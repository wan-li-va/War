(this.webpackJsonpwar=this.webpackJsonpwar||[]).push([[0],{29:function(e,t,a){e.exports=a.p+"static/media/youWin.5456c212.gif"},30:function(e,t,a){e.exports=a.p+"static/media/youLose.b8a303d1.gif"},31:function(e,t,a){e.exports=a(57)},36:function(e,t,a){},54:function(e,t,a){},55:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var s=a(0),r=a.n(s),n=a(24),i=a.n(n),o=(a(36),a(25)),l=a(26),c=(a(21),a(27)),m=a.n(c);a(50);a(51).config();var d={apiKey:"AIzaSyBxFuWybPT9zHpJeJXQzdB-b1Os1lxstkY",authDomain:"wargame-e3497.firebaseapp.com",databaseURL:"https://wargame-e3497.firebaseio.com",projectId:"wargame-e3497",storageBucket:"wargame-e3497.appspot.com",messagingSenderId:"190741463412",appId:"1:190741463412:web:9c335f4eb4602ec89b6c21",measurementId:"G-RBSMEN97MD"},u=m.a.initializeApp(d),h=a(7),p=a(13),C=a(14),y=a(16),f=a(15),g=a(11),v=a(17),E=function(e){return r.a.createElement("div",{className:"Card"},r.a.createElement(v.a,null,r.a.createElement(v.a.Body,null,r.a.createElement(v.a.Text,null,r.a.createElement("em",null,e.curCard.name)))))},b=function(e){var t=e.loseList.map((function(e,t){return r.a.createElement(E,{className:"riskCard",curCard:e})}));return r.a.createElement("div",{className:"CardsAtRisk"}," ",t," ")},N=function(e){return r.a.createElement("div",{className:"StatsPanel"},e.firstGame?r.a.createElement("h6",null,"Hi ",e.displayName,", you have yet to play a game."):r.a.createElement("h6",null,"Hi ",e.displayName,", your win percentage is ",Math.floor(e.wins/e.totalGames*100),"% "))},L=(a(54),a(29)),w=a(30),G=function(e){Object(y.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).componentDidMount=function(){s.state.database.ref("wins/"+s.props.uid).once("value",(function(e){e.exists()&&s.setState({wins:e.val()})})),s.state.database.ref("totalGames/"+s.props.uid).once("value",(function(e){e.exists()&&s.setState({totalGames:e.val(),firstGame:!1})}))},s.play=function(){var e=s.state.myCards[0],t=s.state.otherCards[0];s.setState({myCard:e,otherCard:t,myLoseList:[e],otherLoseList:[t],myCards:s.state.myCards.slice(1,s.state.myCards.length),otherCards:s.state.otherCards.slice(1,s.state.otherCards.length),isPlay:!1,isNext:!0})},s.next=function(){var e,t=s.state.myCards.length,a=s.state.otherCards.length;if(s.state.myCard.value!==s.state.otherCard.value)s.state.myCard.value>s.state.otherCard.value?(t=(e=Object(h.a)(s.state.myCards).concat(s.state.myLoseList).concat(s.state.otherLoseList)).length,s.setState({myCards:e})):(a=(e=Object(h.a)(s.state.otherCards).concat(s.state.otherLoseList).concat(s.state.myLoseList)).length,s.setState({otherCards:e})),s.setState({isPlay:!0,isNext:!1,myLoseList:[],otherLoseList:[]});else if(s.state.myCards.length<4)s.end("lose");else if(s.state.otherCards.length<4)s.end("win");else{var r=s.state.myCards[3],n=s.state.otherCards[3],i=Object(h.a)(s.state.myCards),o=Object(h.a)(s.state.otherCards);s.setState({myCard:r,otherCard:n,myLoseList:Object(h.a)(s.state.myLoseList).concat(i.slice(0,4)),otherLoseList:Object(h.a)(s.state.otherLoseList).concat(o.slice(0,4)),myCards:s.state.myCards.slice(4,i.length),otherCards:s.state.otherCards.slice(4,o.length)})}0===t&&s.end("lose"),0===a&&s.end("win")},s.end=function(e){var t,a=s.state.wins+1,r=s.state.totalGames+1;"win"===e?(t="Congratulations, you won the war!",s.setState({wins:a,totalGames:r,didWin:!0})):(t="Sorry, you lost the war :(",s.setState({totalGames:s.state.totalGames+1,didWin:!1})),s.setState({result:t,isNext:!0,isPlay:!0,firstGame:!1,isPlaying:!1}),s.state.database.ref("wins/"+s.props.uid).set(a),s.state.database.ref("totalGames/"+s.props.uid).set(r)},s.restart=function(){s.props.restart(),s.setState({myCards:s.props.cards.slice(0,26),otherCards:s.props.cards.slice(26,53),myCard:"",otherCard:"",isPlay:!0,isNext:!1,myLoseList:[],otherLoseList:[],result:"",firstGame:!1,totalGames:s.state.totalGames+1,isPlaying:!0});var e=s.state.totalGames+1;s.state.database.ref("totalGames/"+s.props.uid).set(e)},s.state={otherCards:s.props.cards.slice(0,1),myCards:s.props.cards.slice(1,53),myCard:"",otherCard:"",isPlay:!0,isNext:!1,myLoseList:[],otherLoseList:[],result:"",wins:0,totalGames:0,firstGame:!0,database:s.props.database,isPlaying:!0,didWin:!1},s}return Object(C.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"CardPanel"},r.a.createElement(N,{wins:this.state.wins,totalGames:this.state.totalGames,firstGame:this.state.firstGame,displayName:this.props.displayName}),r.a.createElement("div",{className:"buttons"},r.a.createElement(g.a,{className:"restartButton",variant:"danger",onClick:this.restart},"Restart"),r.a.createElement(g.a,{className:"button",onClick:this.play,disabled:this.state.isNext},"Flip Card"),r.a.createElement(g.a,{className:"button",variant:"success",onClick:this.next,disabled:this.state.isPlay},"Continue"),r.a.createElement(g.a,{className:"signOutButton",variant:"danger",onClick:this.props.signOut},"Sign out")),r.a.createElement("h5",{className:"congrats"},this.state.result," "),r.a.createElement("div",{className:"Cards"},r.a.createElement("p",{className:"numCards"}," Number of Cards in My Deck: ",this.state.myCards.length),r.a.createElement("div",{className:"CurrentCard"},r.a.createElement("p",{className:"textColor"},"My Current Card"),r.a.createElement(E,{className:"CurPlayingCard",curCard:this.state.myCard})),r.a.createElement("div",{className:"CurrentCard"},r.a.createElement("p",{className:"textColor"},"Opponent's Current Card"),r.a.createElement(E,{className:"CurPlayingCard",curCard:this.state.otherCard})),r.a.createElement("p",{className:"numCards"},"Number of Cards in Opponent's Deck: ",this.state.otherCards.length)),this.state.isPlaying?r.a.createElement("div",{className:"Risk"},r.a.createElement("div",{className:"atRisk"},r.a.createElement("p",{className:"textColor"},"My Cards at Risk"),r.a.createElement(b,{loseList:this.state.myLoseList})),r.a.createElement("div",{className:"atRisk"},r.a.createElement("p",{className:"textColor"},"Opponent's Cards at Risk"),r.a.createElement(b,{loseList:this.state.otherLoseList}))):this.state.didWin?r.a.createElement("img",{src:L,alt:"You won"}):r.a.createElement("img",{src:w,alt:"You lost"}))}}]),a}(s.Component),O=(a(55),a(56),function(e){Object(y.a)(a,e);var t=Object(f.a)(a);function a(e){var s;return Object(p.a)(this,a),(s=t.call(this,e)).componentWillMount=function(){for(var e=[],t=0,a=13;a>0;a--){var r=a,n=a;1===a&&(r="Ace",n=14),11===a&&(r="Jack"),12===a&&(r="Queen"),13===a&&(r="King"),e[t]={value:n,name:r+" of Diamonds",index:t},e[++t]={value:n,name:r+" of Clubs",index:t},e[++t]={value:n,name:r+" of Hearts",index:t},e[++t]={value:n,name:r+" of Spades",index:t},t++}for(var i=[].concat(e),o=i.length-1;o>0;o--){var l=Math.floor(Math.random()*o),c=i[o];i[o]=i[l],i[l]=c}s.setState({cards:i})},s.restart=function(){for(var e=Object(h.a)(s.state.cards),t=e.length-1;t>0;t--){var a=Math.floor(Math.random()*t),r=e[t];e[t]=e[a],e[a]=r}s.setState({cards:e})},s.state={cards:[],database:u.database()},s}return Object(C.a)(a,[{key:"render",value:function(){var e=this.props,t=e.user,a=e.signOut,s=e.signInWithGoogle;return r.a.createElement("div",{className:"App"},r.a.createElement("h1",null,"A GAME OF LUCK: ",r.a.createElement("span",{className:"war"},"WAR")),t?r.a.createElement("div",null):r.a.createElement("p",{className:"signIn"},"Please sign in."),t?r.a.createElement(G,{cards:this.state.cards,restart:this.restart,database:this.state.database,uid:t.uid,displayName:t.displayName,signOut:a}):r.a.createElement(g.a,{onClick:s,className:"signInButton"},"Sign in with Google"))}}]),a}(s.Component)),x=u.auth(),k={googleProvider:new l.auth.GoogleAuthProvider},S=Object(o.a)({providers:k,firebaseAppAuth:x})(O);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(S,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.0ffaee47.chunk.js.map